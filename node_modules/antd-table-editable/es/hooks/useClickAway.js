import { useEffect } from 'react';
import useLatest from "./useLatest";
var useClickAway = function useClickAway(element, onClickAway) {
  var savedCallback = useLatest(onClickAway);
  useEffect(function () {
    var handler = function handler(event) {
      var ele = element.current;
      // composedPath 比 contains 好
      // https://github.com/vueuse/vueuse/blob/main/packages/core/onClickOutside/index.ts#L75
      if (!ele || ele === event.target || event.composedPath().includes(ele)) {
        return;
      }
      savedCallback.current(event);
    };
    document.addEventListener('click', handler);
    return function () {
      document.removeEventListener('click', handler);
    };
  }, []);
};
export default useClickAway;